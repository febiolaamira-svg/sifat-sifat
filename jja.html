<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sifat Periodik Jari-jari Atom</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100%;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.8rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .periodic-table-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .atom-visualization {
            background: radial-gradient(circle, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.4));
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 350px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .atom-model {
            position: relative;
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nucleus {
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, #ff4757, #ff3742);
            border-radius: 50%;
            position: absolute;
            z-index: 20;
            box-shadow: 0 0 20px #ff4757, 0 0 40px rgba(255, 71, 87, 0.5);
            animation: nucleusGlow 2s ease-in-out infinite alternate;
            border: 2px solid #fff;
        }

        .nucleus::before {
            content: '+';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .electron-shell {
            position: absolute;
            border: 2px dashed rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .electron-orbit {
            position: absolute;
            border-radius: 50%;
            animation: orbitRotation linear infinite;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .electron {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #00d2ff, #3742fa);
            border-radius: 50%;
            box-shadow: 0 0 15px #00d2ff, 0 0 25px rgba(0, 210, 255, 0.5);
            border: 1px solid #fff;
            top: -6px;
            left: calc(50% - 6px);
        }

        .electron::before {
            content: '-';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 8px;
        }

        .radius-line {
            position: absolute;
            height: 3px;
            background: linear-gradient(to right, #ffd93d, #ffb142);
            transform-origin: left center;
            z-index: 15;
            animation: radiusGlow 2s ease-in-out infinite alternate;
            left: 50%;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 2px;
            box-shadow: 0 0 10px #ffd93d;
        }

        .radius-line::before {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid #ffd93d;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }

        .radius-label {
            position: absolute;
            background: linear-gradient(45deg, #ffd93d, #ffb142);
            color: #333;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 25;
            box-shadow: 0 4px 15px rgba(255, 217, 61, 0.4);
            border: 2px solid #fff;
        }

        .shell-label {
            position: absolute;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .energy-level-label {
            position: absolute;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.6);
            padding: 2px 6px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes nucleusGlow {
            0% { 
                box-shadow: 0 0 20px #ff4757, 0 0 40px rgba(255, 71, 87, 0.5);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 30px #ff4757, 0 0 60px rgba(255, 71, 87, 0.8);
                transform: scale(1.1);
            }
        }

        .orbit-1 { animation-duration: 2s; }
        .orbit-2 { animation-duration: 3s; }
        .orbit-3 { animation-duration: 4s; }

        @keyframes orbitRotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes radiusGlow {
            0% { 
                opacity: 0.8; 
                box-shadow: 0 0 10px #ffd93d;
            }
            100% { 
                opacity: 1; 
                box-shadow: 0 0 20px #ffd93d, 0 0 30px rgba(255, 217, 61, 0.6);
            }
        }

        .atom-info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .comparison-view {
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 200px;
            margin: 20px 0;
        }

        .atom-comparison-model {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .comparison-atom {
            position: relative;
            border: 2px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }

        .comparison-nucleus {
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, #ff6b6b, #ee5a52);
            border-radius: 50%;
            box-shadow: 0 0 8px #ff6b6b;
        }

        .comparison-label {
            text-align: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 3px;
            margin: 20px 0;
        }

        .element {
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            font-size: 0.8rem;
            font-weight: bold;
            border: 2px solid transparent;
        }

        .element:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .element.selected {
            border-color: #ffd93d;
            box-shadow: 0 0 15px #ffd93d;
        }

        .element.highlighted {
            animation: pulse 1s infinite;
        }

        .element-symbol {
            font-size: 1rem;
            font-weight: bold;
        }

        .element-number {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .element-radius {
            font-size: 0.6rem;
            opacity: 0.9;
            margin-top: 2px;
        }

        /* Element colors by group */
        .alkali { background: linear-gradient(135deg, #ff6b6b, #ee5a52); }
        .alkaline-earth { background: linear-gradient(135deg, #feca57, #ff9ff3); }
        .transition { background: linear-gradient(135deg, #48dbfb, #0abde3); }
        .metalloid { background: linear-gradient(135deg, #1dd1a1, #10ac84); }
        .nonmetal { background: linear-gradient(135deg, #a55eea, #8b5cf6); }
        .halogen { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .noble-gas { background: linear-gradient(135deg, #fdcb6e, #e17055); }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            color: white;
        }

        .btn-info {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .element-details {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .trend-explanation {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            height: 300px;
            position: relative;
        }

        .chart {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: end;
            justify-content: space-around;
            padding: 20px 0;
        }

        .bar {
            background: linear-gradient(to top, #667eea, #764ba2);
            width: 30px;
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 1s ease;
            margin: 0 2px;
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            font-weight: bold;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            background: rgba(0,0,0,0.7);
            padding: 2px 6px;
            border-radius: 4px;
            white-space: nowrap;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .factors-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .factor-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .factor-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .animate-in {
            animation: fadeIn 0.6s ease-out;
        }

        .slide-in {
            animation: slideIn 0.8s ease-out;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .periodic-table {
                grid-template-columns: repeat(9, 1fr);
            }
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2.2rem;
            }
            
            .periodic-table {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .factors-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <main class="container">
   <header class="header">
    <h1 class="title" id="mainTitle">Sifat Periodik Jari-jari Atom</h1>
    <p class="subtitle" id="subtitle">Pelajari bagaimana jari-jari atom berubah dalam tabel periodik</p>
   </header>
   <div class="main-content">
    <div class="periodic-table-section">
     <h3>üî¨ Tabel Periodik Interaktif</h3>
     <div class="periodic-table" id="periodicTable"><!-- Elements will be generated by JavaScript -->
     </div>
     <div class="legend">
      <div class="legend-item">
       <div class="legend-color alkali"></div><span>Logam Alkali</span>
      </div>
      <div class="legend-item">
       <div class="legend-color alkaline-earth"></div><span>Alkali Tanah</span>
      </div>
      <div class="legend-item">
       <div class="legend-color transition"></div><span>Logam Transisi</span>
      </div>
      <div class="legend-item">
       <div class="legend-color nonmetal"></div><span>Non-logam</span>
      </div>
      <div class="legend-item">
       <div class="legend-color halogen"></div><span>Halogen</span>
      </div>
      <div class="legend-item">
       <div class="legend-color noble-gas"></div><span>Gas Mulia</span>
      </div>
     </div>
    </div>
    <div class="info-panel">
     <h3>‚ÑπÔ∏è Informasi Unsur</h3>
     <div class="element-details" id="elementDetails">
      <p>Klik pada unsur di tabel periodik untuk melihat informasi detail tentang jari-jari atomnya.</p>
     </div>
     <div class="atom-visualization" id="atomVisualization">
      <div class="atom-model" id="atomModel">
       <div class="atom-info" id="atomInfo">
        Pilih unsur untuk melihat model atom
       </div>
      </div>
     </div>
     <div class="trend-explanation" id="trendExplanation">
      <h4>üìà Tren Jari-jari Atom</h4>
      <p><strong>Dalam Golongan (‚Üì):</strong> Jari-jari bertambah karena penambahan kulit elektron</p>
      <p><strong>Dalam Periode (‚Üí):</strong> Jari-jari berkurang karena bertambahnya muatan inti</p>
     </div>
     <div class="factors-section">
      <div class="factor-card">
       <div class="factor-icon">
        ‚öõÔ∏è
       </div>
       <h4>Muatan Inti</h4>
       <p>Semakin besar muatan inti, semakin kuat tarikan terhadap elektron</p>
      </div>
      <div class="factor-card">
       <div class="factor-icon">
        üõ°Ô∏è
       </div>
       <h4>Efek Perisai</h4>
       <p>Elektron dalam melindungi elektron luar dari tarikan inti</p>
      </div>
     </div>
    </div>
   </div>
   <div class="controls"><button class="btn btn-primary" id="startBtn" onclick="startAnimation()">üé¨ Mulai Animasi</button> <button class="btn btn-secondary" onclick="showGroupTrend()">üìä Tren Golongan</button> <button class="btn btn-secondary" onclick="showPeriodTrend()">üìà Tren Periode</button> <button class="btn btn-info" onclick="showAtomComparison()">‚öõÔ∏è Bandingkan Atom</button> <button class="btn btn-info" onclick="resetView()">üîÑ Reset</button>
   </div>
   <div class="chart-container" id="comparisonContainer" style="display: none;">
    <h3>‚öõÔ∏è Perbandingan Visual Jari-jari Atom</h3>
    <div class="comparison-view" id="comparisonView"><!-- Comparison atoms will be generated by JavaScript -->
    </div>
   </div>
   <div class="chart-container">
    <h3>üìä Grafik Jari-jari Atom</h3>
    <div class="chart" id="chart"><!-- Chart bars will be generated by JavaScript -->
    </div>
   </div>
  </main>
  <script>
        // Default configuration
        const defaultConfig = {
            main_title: "Sifat Periodik Jari-jari Atom",
            subtitle: "Pelajari bagaimana jari-jari atom berubah dalam tabel periodik",
            start_button_text: "üé¨ Mulai Animasi"
        };

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig: defaultConfig,
                onConfigChange: async (config) => {
                    document.getElementById('mainTitle').textContent = config.main_title || defaultConfig.main_title;
                    document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
                    document.getElementById('startBtn').textContent = config.start_button_text || defaultConfig.start_button_text;
                },
                mapToCapabilities: (config) => ({
                    recolorables: [],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["main_title", config.main_title || defaultConfig.main_title],
                    ["subtitle", config.subtitle || defaultConfig.subtitle],
                    ["start_button_text", config.start_button_text || defaultConfig.start_button_text]
                ])
            });
        }

        // Element data with atomic radii in picometers
        const elements = [
            // Period 1
            { symbol: 'H', name: 'Hidrogen', number: 1, period: 1, group: 1, radius: 53, type: 'nonmetal', position: 0 },
            { symbol: 'He', name: 'Helium', number: 2, period: 1, group: 18, radius: 31, type: 'noble-gas', position: 17 },
            
            // Period 2
            { symbol: 'Li', name: 'Litium', number: 3, period: 2, group: 1, radius: 152, type: 'alkali', position: 18 },
            { symbol: 'Be', name: 'Berilium', number: 4, period: 2, group: 2, radius: 112, type: 'alkaline-earth', position: 19 },
            { symbol: 'B', name: 'Boron', number: 5, period: 2, group: 13, radius: 87, type: 'metalloid', position: 30 },
            { symbol: 'C', name: 'Karbon', number: 6, period: 2, group: 14, radius: 67, type: 'nonmetal', position: 31 },
            { symbol: 'N', name: 'Nitrogen', number: 7, period: 2, group: 15, radius: 56, type: 'nonmetal', position: 32 },
            { symbol: 'O', name: 'Oksigen', number: 8, period: 2, group: 16, radius: 48, type: 'nonmetal', position: 33 },
            { symbol: 'F', name: 'Fluor', number: 9, period: 2, group: 17, radius: 42, type: 'halogen', position: 34 },
            { symbol: 'Ne', name: 'Neon', number: 10, period: 2, group: 18, radius: 38, type: 'noble-gas', position: 35 },
            
            // Period 3
            { symbol: 'Na', name: 'Natrium', number: 11, period: 3, group: 1, radius: 186, type: 'alkali', position: 36 },
            { symbol: 'Mg', name: 'Magnesium', number: 12, period: 3, group: 2, radius: 160, type: 'alkaline-earth', position: 37 },
            { symbol: 'Al', name: 'Aluminium', number: 13, period: 3, group: 13, radius: 143, type: 'transition', position: 48 },
            { symbol: 'Si', name: 'Silikon', number: 14, period: 3, group: 14, radius: 117, type: 'metalloid', position: 49 },
            { symbol: 'P', name: 'Fosfor', number: 15, period: 3, group: 15, radius: 110, type: 'nonmetal', position: 50 },
            { symbol: 'S', name: 'Sulfur', number: 16, period: 3, group: 16, radius: 103, type: 'nonmetal', position: 51 },
            { symbol: 'Cl', name: 'Klorin', number: 17, period: 3, group: 17, radius: 99, type: 'halogen', position: 52 },
            { symbol: 'Ar', name: 'Argon', number: 18, period: 3, group: 18, radius: 95, type: 'noble-gas', position: 53 }
        ];

        let selectedElement = null;
        let animationRunning = false;

        function createPeriodicTable() {
            const table = document.getElementById('periodicTable');
            table.innerHTML = '';

            // Create 54 grid positions (3 periods √ó 18 groups)
            for (let i = 0; i < 54; i++) {
                const cell = document.createElement('div');
                cell.className = 'element-cell';
                table.appendChild(cell);
            }

            // Place elements in their positions
            elements.forEach(element => {
                const cell = table.children[element.position];
                cell.className = `element ${element.type}`;
                cell.innerHTML = `
                    <div class="element-number">${element.number}</div>
                    <div class="element-symbol">${element.symbol}</div>
                    <div class="element-radius">${element.radius} pm</div>
                `;
                cell.addEventListener('click', () => selectElement(element));
            });
        }

        function selectElement(element) {
            // Remove previous selection
            document.querySelectorAll('.element').forEach(el => el.classList.remove('selected'));
            
            // Add selection to clicked element
            event.target.closest('.element').classList.add('selected');
            
            selectedElement = element;
            showElementDetails(element);
            updateChart([element]);
        }

        function showElementDetails(element) {
            const details = document.getElementById('elementDetails');
            details.innerHTML = `
                <div class="animate-in">
                    <h4>${element.name} (${element.symbol})</h4>
                    <p><strong>Nomor Atom:</strong> ${element.number}</p>
                    <p><strong>Periode:</strong> ${element.period}</p>
                    <p><strong>Golongan:</strong> ${element.group}</p>
                    <p><strong>Jari-jari Atom:</strong> ${element.radius} pm</p>
                    <p><strong>Jenis:</strong> ${getElementTypeName(element.type)}</p>
                </div>
            `;
            
            // Show atom visualization
            showAtomModel(element);
        }

        function showAtomModel(element) {
            const atomModel = document.getElementById('atomModel');
            const atomInfo = document.getElementById('atomInfo');
            
            // Clear previous model
            atomModel.innerHTML = '';
            
            // Create nucleus with proton count
            const nucleus = document.createElement('div');
            nucleus.className = 'nucleus';
            nucleus.title = `Inti atom dengan ${element.number} proton`;
            atomModel.appendChild(nucleus);
            
            // Create electron shells based on period
            const shellRadii = getShellRadii(element.period);
            const electronConfig = getElectronConfiguration(element.number);
            
            shellRadii.forEach((radius, shellIndex) => {
                if (electronConfig[shellIndex] > 0) {
                    // Create shell orbit path
                    const shell = document.createElement('div');
                    shell.className = 'electron-shell';
                    shell.style.width = radius * 2 + 'px';
                    shell.style.height = radius * 2 + 'px';
                    atomModel.appendChild(shell);
                    
                    // Add energy level label
                    const energyLabel = document.createElement('div');
                    energyLabel.className = 'energy-level-label';
                    energyLabel.textContent = `n=${shellIndex + 1}`;
                    energyLabel.style.left = radius + 10 + 'px';
                    energyLabel.style.top = '50%';
                    energyLabel.style.transform = 'translateY(-50%)';
                    atomModel.appendChild(energyLabel);
                    
                    // Add electrons to this shell with proper Bohr model orbits
                    const electronsInShell = electronConfig[shellIndex];
                    const maxElectronsToShow = Math.min(electronsInShell, 8);
                    
                    for (let i = 0; i < maxElectronsToShow; i++) {
                        // Create orbit container for each electron
                        const orbit = document.createElement('div');
                        orbit.className = `electron-orbit orbit-${shellIndex + 1}`;
                        orbit.style.width = radius * 2 + 'px';
                        orbit.style.height = radius * 2 + 'px';
                        orbit.style.animationDelay = (i * 0.3) + 's';
                        
                        // Create electron positioned on the orbit circumference
                        const electron = document.createElement('div');
                        electron.className = 'electron';
                        electron.title = `Elektron pada kulit ${shellIndex + 1}`;
                        
                        // Position electron on the orbit circumference
                        const angle = (i * (360 / maxElectronsToShow)) * (Math.PI / 180);
                        const electronX = radius * Math.cos(angle);
                        const electronY = radius * Math.sin(angle);
                        
                        electron.style.left = (radius + electronX - 6) + 'px';
                        electron.style.top = (radius + electronY - 6) + 'px';
                        
                        orbit.appendChild(electron);
                        atomModel.appendChild(orbit);
                    }
                    
                    // Add shell label for outermost shell
                    if (shellIndex === element.period - 1) {
                        const shellLabel = document.createElement('div');
                        shellLabel.className = 'shell-label';
                        shellLabel.textContent = `Kulit Valensi (${electronsInShell}e‚Åª)`;
                        shellLabel.style.right = '5px';
                        shellLabel.style.bottom = radius - 20 + 'px';
                        atomModel.appendChild(shellLabel);
                    }
                }
            });
            
            // Create radius line to outermost shell
            const outerRadius = shellRadii[element.period - 1];
            const radiusLine = document.createElement('div');
            radiusLine.className = 'radius-line';
            radiusLine.style.width = outerRadius + 'px';
            atomModel.appendChild(radiusLine);
            
            // Add radius label
            const radiusLabel = document.createElement('div');
            radiusLabel.className = 'radius-label';
            radiusLabel.textContent = `r = ${element.radius} pm`;
            radiusLabel.style.right = '-80px';
            radiusLabel.style.top = '50%';
            radiusLabel.style.transform = 'translateY(-50%)';
            atomModel.appendChild(radiusLabel);
            
            // Update atom info with more details
            atomInfo.innerHTML = `
                <div style="text-align: center;">
                    <strong style="font-size: 1.1rem;">${element.name} (${element.symbol})</strong><br>
                    <div style="margin: 8px 0; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                        <div>‚öõÔ∏è Jari-jari Atom: <strong>${element.radius} pm</strong></div>
                        <div>üî¨ Kulit Elektron: <strong>${element.period}</strong></div>
                        <div>‚ö° Elektron Total: <strong>${element.number}</strong></div>
                        <div>üéØ Konfigurasi: <strong>${getElectronConfigString(element.number)}</strong></div>
                    </div>
                </div>
            `;
        }

        function getShellRadii(period) {
            // Return shell radii in pixels for visualization - scaled for better Bohr model appearance
            const baseRadii = [35, 70, 105, 140];
            return baseRadii.slice(0, period);
        }

        function getElectronConfiguration(atomicNumber) {
            // Simplified electron configuration for first 18 elements
            const configs = {
                1: [1], 2: [2],
                3: [2, 1], 4: [2, 2], 5: [2, 3], 6: [2, 4], 7: [2, 5], 8: [2, 6], 9: [2, 7], 10: [2, 8],
                11: [2, 8, 1], 12: [2, 8, 2], 13: [2, 8, 3], 14: [2, 8, 4], 15: [2, 8, 5], 16: [2, 8, 6], 17: [2, 8, 7], 18: [2, 8, 8]
            };
            return configs[atomicNumber] || [2, 8, 8];
        }

        function getElectronConfigString(atomicNumber) {
            // Return electron configuration as string notation
            const configs = {
                1: '1s¬π', 2: '1s¬≤',
                3: '1s¬≤ 2s¬π', 4: '1s¬≤ 2s¬≤', 5: '1s¬≤ 2s¬≤ 2p¬π', 6: '1s¬≤ 2s¬≤ 2p¬≤', 7: '1s¬≤ 2s¬≤ 2p¬≥', 
                8: '1s¬≤ 2s¬≤ 2p‚Å¥', 9: '1s¬≤ 2s¬≤ 2p‚Åµ', 10: '1s¬≤ 2s¬≤ 2p‚Å∂',
                11: '[Ne] 3s¬π', 12: '[Ne] 3s¬≤', 13: '[Ne] 3s¬≤ 3p¬π', 14: '[Ne] 3s¬≤ 3p¬≤', 
                15: '[Ne] 3s¬≤ 3p¬≥', 16: '[Ne] 3s¬≤ 3p‚Å¥', 17: '[Ne] 3s¬≤ 3p‚Åµ', 18: '[Ne] 3s¬≤ 3p‚Å∂'
            };
            return configs[atomicNumber] || '[Ar] 4s¬≤';
        }

        function getElementTypeName(type) {
            const typeNames = {
                'alkali': 'Logam Alkali',
                'alkaline-earth': 'Logam Alkali Tanah',
                'transition': 'Logam Transisi',
                'metalloid': 'Metaloid',
                'nonmetal': 'Non-logam',
                'halogen': 'Halogen',
                'noble-gas': 'Gas Mulia'
            };
            return typeNames[type] || type;
        }

        function startAnimation() {
            if (animationRunning) return;
            animationRunning = true;

            // Highlight all elements sequentially
            const elementNodes = document.querySelectorAll('.element');
            elementNodes.forEach((el, index) => {
                setTimeout(() => {
                    el.classList.add('highlighted');
                    setTimeout(() => {
                        el.classList.remove('highlighted');
                    }, 500);
                }, index * 100);
            });

            // Show overview chart
            setTimeout(() => {
                updateChart(elements);
            }, 2000);

            setTimeout(() => {
                animationRunning = false;
            }, 4000);
        }

        function showGroupTrend() {
            // Highlight Group 1 elements (alkali metals)
            const group1Elements = elements.filter(el => el.group === 1);
            highlightElements(group1Elements);
            updateChart(group1Elements);
            
            const explanation = document.getElementById('trendExplanation');
            explanation.innerHTML = `
                <div class="slide-in">
                    <h4>üìà Tren dalam Golongan (Vertikal)</h4>
                    <p><strong>Contoh: Golongan 1 (Li ‚Üí Na)</strong></p>
                    <p>‚Ä¢ Li: 152 pm ‚Üí Na: 186 pm</p>
                    <p>‚Ä¢ Jari-jari <strong>bertambah</strong> ke bawah</p>
                    <p><strong>Alasan:</strong> Penambahan kulit elektron baru membuat elektron valensi lebih jauh dari inti</p>
                </div>
            `;
        }

        function showPeriodTrend() {
            // Highlight Period 2 elements
            const period2Elements = elements.filter(el => el.period === 2);
            highlightElements(period2Elements);
            updateChart(period2Elements);
            
            const explanation = document.getElementById('trendExplanation');
            explanation.innerHTML = `
                <div class="slide-in">
                    <h4>üìà Tren dalam Periode (Horizontal)</h4>
                    <p><strong>Contoh: Periode 2 (Li ‚Üí F)</strong></p>
                    <p>‚Ä¢ Li: 152 pm ‚Üí F: 42 pm</p>
                    <p>‚Ä¢ Jari-jari <strong>berkurang</strong> ke kanan</p>
                    <p><strong>Alasan:</strong> Muatan inti bertambah tanpa penambahan kulit baru, menarik elektron lebih kuat</p>
                </div>
            `;
        }

        function highlightElements(elementList) {
            // Remove all highlights
            document.querySelectorAll('.element').forEach(el => el.classList.remove('highlighted'));
            
            // Highlight specified elements
            elementList.forEach((element, index) => {
                setTimeout(() => {
                    const elementNode = Array.from(document.querySelectorAll('.element')).find(el => 
                        el.querySelector('.element-symbol').textContent === element.symbol
                    );
                    if (elementNode) {
                        elementNode.classList.add('highlighted');
                    }
                }, index * 300);
            });
        }

        function updateChart(elementList) {
            const chart = document.getElementById('chart');
            chart.innerHTML = '';

            const maxRadius = Math.max(...elementList.map(el => el.radius));

            elementList.forEach((element, index) => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                
                const height = (element.radius / maxRadius) * 200; // Max height 200px
                bar.style.height = '0px';
                
                bar.innerHTML = `
                    <div class="bar-label">${element.symbol}</div>
                    <div class="bar-value">${element.radius} pm</div>
                `;
                
                chart.appendChild(bar);
                
                // Animate bar height
                setTimeout(() => {
                    bar.style.height = height + 'px';
                }, index * 200);
            });
        }

        function showAtomComparison() {
            const comparisonContainer = document.getElementById('comparisonContainer');
            const comparisonView = document.getElementById('comparisonView');
            
            // Show comparison container
            comparisonContainer.style.display = 'block';
            
            // Select representative elements for comparison
            const compareElements = [
                elements.find(el => el.symbol === 'Li'),
                elements.find(el => el.symbol === 'Na'),
                elements.find(el => el.symbol === 'F'),
                elements.find(el => el.symbol === 'Cl')
            ].filter(el => el);
            
            comparisonView.innerHTML = '';
            
            compareElements.forEach((element, index) => {
                const atomComparison = document.createElement('div');
                atomComparison.className = 'atom-comparison-model';
                
                // Scale atom size based on radius (with minimum and maximum sizes)
                const minSize = 40;
                const maxSize = 120;
                const maxRadius = Math.max(...compareElements.map(el => el.radius));
                const atomSize = minSize + (element.radius / maxRadius) * (maxSize - minSize);
                
                atomComparison.innerHTML = `
                    <div class="comparison-atom" style="width: ${atomSize}px; height: ${atomSize}px;">
                        <div class="comparison-nucleus"></div>
                        <div style="position: absolute; top: -5px; right: -5px; background: rgba(255,255,255,0.9); color: #333; padding: 2px 4px; border-radius: 3px; font-size: 0.7rem; font-weight: bold;">${element.radius} pm</div>
                    </div>
                    <div class="comparison-label">
                        <div>${element.symbol}</div>
                        <div style="font-size: 0.7rem; opacity: 0.8;">${element.name}</div>
                    </div>
                `;
                
                comparisonView.appendChild(atomComparison);
                
                // Animate appearance
                setTimeout(() => {
                    atomComparison.style.animation = 'fadeIn 0.6s ease-out';
                }, index * 200);
            });
        }

        function resetView() {
            // Remove all highlights and selections
            document.querySelectorAll('.element').forEach(el => {
                el.classList.remove('highlighted', 'selected');
            });
            
            selectedElement = null;
            
            // Reset info panel
            document.getElementById('elementDetails').innerHTML = `
                <p>Klik pada unsur di tabel periodik untuk melihat informasi detail tentang jari-jari atomnya.</p>
            `;
            
            // Reset atom visualization
            document.getElementById('atomModel').innerHTML = `
                <div class="atom-info" id="atomInfo">
                    Pilih unsur untuk melihat model atom
                </div>
            `;
            
            document.getElementById('trendExplanation').innerHTML = `
                <h4>üìà Tren Jari-jari Atom</h4>
                <p><strong>Dalam Golongan (‚Üì):</strong> Jari-jari bertambah karena penambahan kulit elektron</p>
                <p><strong>Dalam Periode (‚Üí):</strong> Jari-jari berkurang karena bertambahnya muatan inti</p>
            `;
            
            // Hide comparison container
            document.getElementById('comparisonContainer').style.display = 'none';
            
            // Clear chart
            document.getElementById('chart').innerHTML = '';
        }

        // Initialize the periodic table
        createPeriodicTable();
        
        // Show initial chart with some representative elements
        updateChart([elements[2], elements[10], elements[8], elements[16]]); // Li, Na, F, Cl
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'995ad2f4d408fcff',t:'MTc2MTY1ODYwNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>